<!DOCTYPE html>

<head>
    <meta charset="utf-8" />
    <title>jQuery Arrows</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.4/css/bulma.min.css">
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="jquery.arrows.js"></script>

    <script>
        $(document).ready(function () {
            $(".node").draggable(); // Make node boxes draggable with jQuery UI

            $().arrows({
                within: '#svg-arrows', // Optional (container that will hold the created arrows - set to "body" if not specified)
                id: 'arrow-1-2', // Optional (for unique element identification - set to "arrow-n" if not specified) 
                class: 'arrow-class-1', // Optional (for arrow class identification and styling)
                name: 'i am arrow-1-2', // Optional (no text is shown otherwise)
                from: '#node-1', // MANDATORY - Any jQuery selector (allowing to choose multiple source elements at once).
                to: '#node-2' // MANDATORY - Any jQuery selector (allowing to choose multiple destination elements at once).
            });

            $().arrows({
                within: '#svg-arrows',
                id: 'arrow-2-3',
                class: 'arrow-class-2',
                name: 'i am arrow-2-3',
                from: '#node-2',
                to: '#node-3'
            });

            $().arrows({
                within: '#svg-arrows',
                id: 'arrow-3-4',
                class: 'arrow-class-3',
                name: 'i am arrow-3-4',
                from: '#node-3',
                to: '#node-4'
            });

            $().arrows({
                within: '#svg-arrows',
                id: 'arrow-4-1',
                class: 'arrow-class-4',
                name: 'i am arrow-4-1',
                from: '#node-4',
                to: '#node-1'
            });

            $().arrows({
                within: '#svg-arrows',
                id: 'arrow-1-3',
                class: 'arrow-class-1',
                name: 'i am arrow-1-3',
                from: '#node-1',
                to: '#node-3'
            });

            $().arrows({
                within: '#svg-arrows',
                id: 'arrow-4-2',
                class: 'arrow-class-2',
                name: 'i am arrow-4-2',
                from: '#node-4',
                to: '#node-2'
            });

            var arrows = $("arrow, inner");
            setInterval(function () {
                arrows.arrows("update");
            }, 100);
        });
    </script>

    <style>
        .node {
            position: absolute;
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.5);
            padding: 0.5em;
            border: 2px solid rgba(0, 0, 0, 0.8);
            border-radius: 10px;
        }

        /* Edit arrow styles by class */
        .arrow-class-1 .svg {
            fill: blue;
        }

        .arrow-class-1 .svg-line {
            stroke: blue;
            stroke-dasharray: 4;
        }

        .arrow-class-2 .svg {
            fill: black;
        }

        .arrow-class-2 .svg-line {
            stroke: black;
        }

        .arrow-class-3 .svg {
            fill: orange;
        }

        .arrow-class-3 .svg-line {
            stroke: orange;
        }

        .arrow-class-4 .svg {
            fill: red;
        }

        .arrow-class-4 .svg-line {
            stroke: red;
            stroke-dasharray: 8;
        }

        /* Edit width of arrow line and text */
        .svg {
            fill: black;
            /* Black color by default for svg elems*/
        }

        .svg-line {
            stroke-width: 2;
        }
    </style>
</head>

<body>
    <h2 class="title is-3" style="margin: 0.5em;">jQuery Arrows Example</h2>
    <h3 class="subtitle is-4" style="margin: 0.5em;">Nodes can be dragged to play with arrows update.</h3>
    <h3 class="subtitle is-4" style="margin: 0.5em;">Arrows are defined in a script stating what HTML elements they connect and their properties.</h3>
    <h3 class="subtitle is-4" style="margin: 0.5em;">Arrows can be styled by class or id using CSS as in this example.</h3>

    <div id="node-1" class="node" style="top:30%; left:10%;">
        <h3 class="subtitle is-2">Node 1</h3>
    </div>
    <div id="node-2" class="node" style="top:30%; left:75%;">
        <h3 class="subtitle is-2">Node 2</h3>
    </div>
    <div id="node-3" class="node" style="top:70%; left:75%;">
        <h3 class="subtitle is-2">Node 3</h3>
    </div>
    <div id="node-4" class="node" style="top:70%; left:10%;">
        <h3 class="subtitle is-2">Node 4</h3>
    </div>

    <div id="svg-arrows"></div>
</body>